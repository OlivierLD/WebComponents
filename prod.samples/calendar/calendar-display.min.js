!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("calendar-display",[],e):"object"==typeof exports?exports["calendar-display"]=e():t["calendar-display"]=e()}(window,function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,o){return e&&r(t.prototype,e),o&&r(t,o),t}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return l(t,arguments,c(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u(o,t)})(t)}function l(t,e,o){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,o){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return o&&u(r,o.prototype),r}).apply(null,arguments)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=!1,d={bgColor:"white",displayBackgroundGradient:{from:"white",to:"lightgray"},dayColor:"red",monthYearColor:"black",valueFont:"Arial"},f=["January","February","March","April","May","June","July","August","September","October","November","December"],h=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=n(this,c(e).call(this)))._shadowRoot=t.attachShadow({mode:"open"}),t.canvas=document.createElement("canvas");var o=document.createElement("h1"),r=document.createTextNode("This is a CalendarDisplay, on an HTML5 canvas");return o.appendChild(r),t.canvas.appendChild(o),t.shadowRoot.appendChild(t.canvas),t._value="01-01-2018",t._width=150,t._height=180,t._previousClassName="",t.calendarColorConfig=d,s&&console.log("Data in Constructor:",t._value),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i(HTMLElement)),a(e,null,[{key:"observedAttributes",get:function(){return["width","height","value"]}}]),a(e,[{key:"connectedCallback",value:function(){s&&console.log("connectedCallback invoked, 'value' is [",this.value,"]")}},{key:"disconnectedCallback",value:function(){s&&console.log("disconnectedCallback invoked")}},{key:"attributeChangedCallback",value:function(t,e,o){switch(s&&console.log("attributeChangedCallback invoked on "+t+" from "+e+" to "+o),t){case"value":this._value=o;break;case"width":this._width=parseInt(o);break;case"height":this._height=parseInt(o)}this.repaint()}},{key:"adoptedCallback",value:function(){s&&console.log("adoptedCallback invoked")}},{key:"getColorConfig",value:function(t){for(var e=d,o=t.split(" "),n=0;n<o.length;n++)for(var r=o[n],a=0;a<document.styleSheets.length;a++)try{for(var i=0;null!==document.styleSheets[a].cssRules&&i<document.styleSheets[a].cssRules.length;i++){var l=document.styleSheets[a].cssRules[i].selectorText;if(void 0!==l&&(l==="."+r||l.indexOf("."+r)>-1&&l.indexOf("calendar-display")>-1))document.styleSheets[a].cssRules[i].style.cssText.split(";").forEach(function(t){if(t.trim().length>0){var o=t.split(":"),n=o[0].trim(),r=o[1].trim();switch(n){case"--bg-color":e.bgColor=r;break;case"--display-background-gradient-from":e.displayBackgroundGradient.from=r;break;case"--display-background-gradient-to":e.displayBackgroundGradient.to=r;break;case"--day-color":e.dayColor=r;break;case"--month-year-color":e.monthYearColor=r;break;case"--value-font":e.valueFont=r}}})}}catch(t){}return e}},{key:"repaint",value:function(){this.drawCalendar(this._value)}},{key:"drawCalendar",value:function(t){var e=this.className;this._previousClassName;try{this.calendarColorConfig=this.getColorConfig(e)}catch(t){console.log(t)}this._previousClassName=e;var o=this.canvas.getContext("2d"),n=this._height/180;if(0!==this._width&&0!==this._height){this.canvas.width=this._width,this.canvas.height=this._height;var r=o.createLinearGradient(0,5,0,this.height);r.addColorStop(0,this.calendarColorConfig.displayBackgroundGradient.from),r.addColorStop(1,this.calendarColorConfig.displayBackgroundGradient.to),o.fillStyle=r,this.roundRect(o,0,0,this.canvas.width,this.canvas.height,10,!0,!1);var a=this._value.split("-"),i=parseInt(a[0]);o.fillStyle=this.calendarColorConfig.dayColor,o.font="bold "+Math.round(130*n)+"px "+this.calendarColorConfig.valueFont;var l=i.toString(),u=o.measureText(l),c=u.width;if(o.fillText(l,this.canvas.width/2-c/2,this.canvas.height/2+Math.round(130*n)/2-20*n),void 0!==a[3]){var s=a[3].toUpperCase();o.fillStyle="rgba(0, 0, 0, 0.5)",o.font="bold "+Math.round(16*n)+"px "+this.calendarColorConfig.valueFont;var d=o.measureText(s).width;o.fillText(s,this.canvas.width/2-d/2,this.canvas.height/2+Math.round(16*n)/4)}var h=parseInt(a[1])-1;o.fillStyle=this.calendarColorConfig.monthYearColor,o.font="bold "+Math.round(20*n)+"px "+this.calendarColorConfig.valueFont;var p=f[h];c=(u=o.measureText(p)).width,o.fillText(p,this.canvas.width/2-c/2,this.canvas.height-15*n);var y=parseInt(a[2]);o.fillStyle=this.calendarColorConfig.monthYearColor,o.font="bold "+Math.round(20*n)+"px "+this.calendarColorConfig.valueFont;var v=y.toString();c=(u=o.measureText(v)).width,o.fillText(v,this.canvas.width/2-c/2,30*n)}}},{key:"roundRect",value:function(t,e,o,n,r,a,i,l){void 0===i&&(i=!0),void 0===l&&(l=!0),void 0===a&&(a=5),t.beginPath(),t.moveTo(e+a,o),t.lineTo(e+n-a,o),t.quadraticCurveTo(e+n,o,e+n,o+a),t.lineTo(e+n,o+r-a),t.quadraticCurveTo(e+n,o+r,e+n-a,o+r),t.lineTo(e+a,o+r),t.quadraticCurveTo(e,o+r,e,o+r-a),t.lineTo(e,o+a),t.quadraticCurveTo(e,o,e+a,o),t.closePath(),l&&t.stroke(),i&&t.fill()}},{key:"value",set:function(t){this.setAttribute("value",t),s&&console.log(">> Value option:",t)},get:function(){return this._value}},{key:"width",set:function(t){this.setAttribute("width",t)},get:function(){return this._width}},{key:"height",set:function(t){this.setAttribute("height",t)},get:function(){return this._height}},{key:"shadowRoot",set:function(t){this._shadowRoot=t},get:function(){return this._shadowRoot}}]),e}();window.customElements.define("calendar-display",h)}])});
//# sourceMappingURL=calendar-display.min.js.map