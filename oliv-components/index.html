<!DOCTYPE html>
<html lang="en">
<!--
 ! I know, this is a big file...
 ! !! This is an example !!
 ! This resources used here are not minified.
 +-->
<head>
	<meta charset="UTF-8">
	<title>WebComponents</title>
	<link rel="icon" type="image/png" href="../logo-192x192.png">

	<link rel="stylesheet" href="css/stylesheet.css">
	<link rel="stylesheet" href="css/web-components.css">

	<script type="module" src="widgets/rain/Pluviometer.js"></script>
	<script type="module" src="widgets/temperature/Thermometer.js"></script>
	<script type="module" src="widgets/jumbo/JumboDisplay.js"></script>
	<script type="module" src="widgets/direction/DirectionDisplay.js"></script>
	<script type="module" src="widgets/analogdisplay/AnalogDisplay.js"></script>
	<script type="module" src="widgets/windangle/WindAngleDisplay.js"></script>
	<script type="module" src="widgets/analogwatch/AnalogWatch.js"></script>
	<script type="module" src="widgets/calendar/CalendarDisplay.js"></script>
	<script type="module" src="widgets/compass/CompassRose.js"></script>
	<script type="module" src="widgets/worldmap/WorldMap.js"></script>
	<script type="module" src="widgets/skymap/SkyMap.js"></script>
	<script type="module" src="widgets/ledpanel/LedPanel.js"></script>
	<script type="module" src="widgets/marquee/MarqueePanel.js"></script>
	<script type="module" src="widgets/raw/Raw16PointsDir.js"></script>
	<script type="module" src="widgets/splitflap/SplitFlapDisplay.js"></script>

	<style>
		:root {
			--perspective: 100em;
			--rotateX: -15deg;
		}

		html {
			height: 100%;
			background-color: black;
		}

		body {
			background-color: black;
			color: gray;
			font-family: "Helvetica Neue", Verdana, Arial, Helvetica, sans-serif;
			/* background-image: linear-gradient(to bottom right, #4d4d4d, black); */
			background: radial-gradient(at top, DarkGrey -8%, black 55%);
			background-repeat: no-repeat;
			background-size: 100% 100%;
		}

		.black-frame {
			padding: 3px;
			margin: 1px;
			border-radius: 5px;
			border: 1px solid silver;
		}

		.centered {
			text-align: center;
		}

		.smooth {
			height: 0;
			visibility: hidden;
			opacity: 0;
			transition: visibility 0.5s, height 0.5s, opacity 0.5s linear;
		}

		.mirror {
			display: block;
			-webkit-transform: matrix(-1, 0, 0, 1, 0, 0);
			-moz-transform: matrix(-1, 0, 0, 1, 0, 0);
			-o-transform: matrix(-1, 0, 0, 1, 0, 0);
			transform: matrix(-1, 0, 0, 1, 0, 0);
		}

		.mirror-upside-down {
			display: block;
			-webkit-transform: matrix(-1, 0, 0, 1, 0, 0) rotate(180deg) perspective(var(--perspective)) rotateX(var(--rotateX));
			-moz-transform: matrix(-1, 0, 0, 1, 0, 0) rotate(180deg) perspective(var(--perspective)) rotateX(var(--rotateX));
			-o-transform: matrix(-1, 0, 0, 1, 0, 0) rotate(180deg) perspective(var(--perspective)) rotateX(var(--rotateX));
			transform: matrix(-1, 0, 0, 1, 0, 0) rotate(180deg) perspective(var(--perspective)) rotateX(var(--rotateX));
		}

	</style>

	<script type="text/javascript">

		function showHideSiblingWidget(node) {
			let status = node.parentNode.parentNode.parentNode.childNodes[2].style.display;
			console.log('Status:', status);
			if (status === 'none') {
				node.parentNode.parentNode.parentNode.childNodes[2].style.display = 'block';
			} else {
				node.parentNode.parentNode.parentNode.childNodes[2].style.display = 'none';
			}
		}

		function changeBG(value) {
			let bodyStyle = document.getElementsByTagName("body")[0].style;
			let htmlStyle = document.getElementsByTagName("html")[0].style;
			if (value === 'LIGHT') {
				bodyStyle.background = 'radial-gradient(at top, white -8%, lightgrey 55%)';
				htmlStyle.backgroundColor = 'lightgrey';
			} else {
				bodyStyle.background = 'radial-gradient(at top, DarkGrey -8%, black 55%)';
				htmlStyle.backgroundColor = 'black';
			}
		}

		let headUpExpanded = false;
		function collapseExpandHeadsup() {
			let cmdElem = document.getElementById("head-up-command");
			let slidersElem = document.getElementById("heads-up-sliders");
			if (headUpExpanded) {
				slidersElem.style.display = 'none';
				cmdElem.innerText = "+ Head up";
			} else {
				slidersElem.style.display = 'block';
				cmdElem.innerText = "- Head up";
			}
			headUpExpanded = !headUpExpanded;
		}

		/**
		 * Set data to the WebComponents
		 * Assume that they all have a 'value' member.
		 *
		 * @param from The field containing the value to set
		 * @param to The WebComponent to set the value to
		 */
		function setData(from, to) {
			let elem = document.getElementById(to);
			let value = document.getElementById(from).value; // Field to read to get the value
			if (value.length !== 0) {
				elem.value = value;                            // value corresponds to the 'set value(val) { ...', invokes the setter in the HTMLElement class
			}
		}

		let animation = false; // Not more than one animation at a given time, for this demo.
		let currentValue;
		let incr;
		let intervalId;

		function smoothlySet(webComp, from, to) {
			webComp.value = currentValue;
//		console.log("From %f to %f, currently %f", from, to, currentValue);
			currentValue += incr;
			if ((incr > 0 && currentValue > to) || (incr < 0 && currentValue < to)) {
				webComp.value = to;
				window.clearInterval(intervalId);
				animation = false;
			}
		}

		function doAnimate(fromField, toComp, increment, on360) {
			if (animation) {
				alert('Already animating, please wait...');
			} else {
				if (on360 === undefined) {
					on360 = false;
				}
				let webComp = document.getElementById(toComp);
				let startFrom = webComp.value;
				if (document.getElementById(fromField).value.length !== 0) {
					let goTo = parseFloat(document.getElementById(fromField).value);
					if ( !isNaN(goTo) && startFrom !== goTo) {
						if (on360 === true) {
							if (Math.abs(goTo - startFrom) > 180) {
								if (startFrom < 180) {
									goTo -= 360;
								} else {
									goTo += 360;
								}
							}
						}
						animation = true;
						currentValue = startFrom;
						incr = ((startFrom < goTo) ? 1 : -1) * (increment !== undefined ? increment : 0.1);
						intervalId = window.setInterval(function () {
							smoothlySet(webComp, startFrom, goTo);
						}, 10);
					}
				}
			}
		}

		let watchAnimationInterval;
		let watchValue;

		function doAnimateWatch() {
			if (watchAnimationInterval !== undefined) {
				window.clearInterval(watchAnimationInterval);
				watchAnimationInterval = undefined;
			} else {
				if (watchValue === undefined) {
					watchValue = 0;
				}
				watchAnimationInterval = window.setInterval(function() {
					// One day = 86,400 sec,
					let seconds = watchValue % 60;
					let minutes = ((watchValue - seconds) / 60) % 60;
					let hours = Math.floor(watchValue / 3600);

					let timeValue = hours.toFixed(0) + ":" + minutes.toFixed(0) + ":" + seconds.toFixed(0);

//				console.log("Time: %d, => %s", watchValue, timeValue);

					document.getElementById('analog-watch-01').value = timeValue;
					document.getElementById('analog-watch-02').value = timeValue;
					watchValue += 1;
				}, 10);
			}
		}

		let realTimeInterval;
		function realTime(id, utc) {
			if (utc === undefined) {
				utc = true;
			}
			if (realTimeInterval !== undefined) {
				window.clearInterval(realTimeInterval);
				realTimeInterval = undefined;
			} else {
				realTimeInterval = window.setInterval(function() {
					let date = new Date();

					let tzo = date.getTimezoneOffset() / 60; // in hours
//				console.log("TimeZoneOffset:" + tzo);

					let now = (date.getTime() / 1000) % 86400;
					// One day = 86,400 sec,
					let seconds = now % 60;
					let minutes = ((now - seconds) / 60) % 60;
					let hours = Math.floor(now / 3600) - (utc === false ? tzo : 0);
					// Compose the string HH:MM:SS
					let timeValue = hours.toFixed(0) + ":" + minutes.toFixed(0) + ":" + seconds.toFixed(0);

//				console.log("Time: %d, => %s", watchValue, timeValue);

					document.getElementById(id).value = timeValue;
				}, 1000);
			}
		}

		let dir16AnimationIntrerval;
		let dir16IdxValue;

		const cardVals = ["N", "NNE", "NE", "ENE", "E", "ESE", "SE", "SSE", "S", "SSW", "SW", "WSW", "W", "WNW", "NW", "NNW"];

		function animate16Dir(id) {
			if (dir16AnimationIntrerval !== undefined) {
				window.clearInterval(dir16AnimationIntrerval);
				dir16AnimationIntrerval = undefined;
			} else {
				dir16IdxValue = 0;
				dir16AnimationIntrerval = window.setInterval(function() {
					document.getElementById(id).value = cardVals[dir16IdxValue];
					dir16IdxValue += 1;
					dir16IdxValue = dir16IdxValue % cardVals.length;
				}, 1000);
			}
		}

		function setBorder(cb, id) {
			document.getElementById(id).withBorder = cb.checked;
		}

		function setRose(cb, id) {
			document.getElementById(id).withRose = cb.checked;
		}

		function setMinMax(cb, id) {
			document.getElementById(id).withMinMax = cb.checked;
		}

		function setDigitVal(field, id) {
			document.getElementById(id).digitalDataVal = field.value;
		}

		function showHide(divId) {
			let elmt = document.getElementById(divId);
			// let status = elmt.style.display;
			// elmt.style.display = (status === 'none' ? 'inline' : 'none');
			let h = elmt.style.height;
			let newH = '', newV = '', newO = '';
			if (h === '' || h === '0' || h === '0px') {
				newH = '100%';
				newV = 'visible';
				newO = '1';
			} else {
				newH = '0';
				newV = 'hidden';
				newO = '0';
			}
			elmt.style.height = newH;
			elmt.style.visibility = newV;
			elmt.style.opacity = newO;
		}

		let directionAnimationInterval;
		let directionValue;
		function directionAnimation(inc) {
			if (directionAnimationInterval !== undefined) {
				window.clearInterval(directionAnimationInterval);
				directionAnimationInterval = undefined;
			} else {
				if (directionValue === undefined) {
					directionValue = 0;
				}
				directionAnimationInterval = window.setInterval(function() {
					document.getElementById('compass-01').value = directionValue;
					document.getElementById('compass-02').value = directionValue;
					document.getElementById('compass-03').value = directionValue;
					document.getElementById('compass-04').value = directionValue;
					document.getElementById('compass-05').value = directionValue;
					directionValue += inc;
					directionValue = directionValue % 360;
				}, 50);
			}
		}

		let roseAnimationInterval;
		let roseValue;
		function roseAnimation(inc) {
			if (roseAnimationInterval !== undefined) {
				window.clearInterval(roseAnimationInterval);
				roseAnimationInterval = undefined;
			} else {
				if (roseValue === undefined) {
					roseValue = 0;
				}
				roseAnimationInterval = window.setInterval(function() {
					document.getElementById('compass-rose-01').value = roseValue;
					document.getElementById('compass-rose-02').value = roseValue;
					document.getElementById('compass-rose-03').value = roseValue;
					document.getElementById('compass-rose-04').value = roseValue;
					document.getElementById('compass-rose-05').value = roseValue;
					roseValue += inc;
					roseValue = roseValue % 360;
				}, 50);
			}
		}

		function simulateAstroData(wcId) {
			document.getElementById(wcId).setUserPosition({latitude: 37.7489, longitude: -122.507 });
			document.getElementById(wcId).positionLabel = "San Francisco";
			// Sun and Moon are both visible in this one:
			let astroData = {"epoch":1519606316000,"deltaT":68.8033,"sun":{"decl":-8.80369392469079,"gha":189.74510851158544},"moon":{"decl":20.031121542217928,"gha":64.87581519128405},"wanderingBodies":[{"name":"aries","decl":0.0,"gha":168.81145235471575},{"name":"venus","decl":-5.708634118883802,"gha":178.5167888059167},{"name":"mars","decl":-22.609275055780387,"gha":271.2920087353893},{"name":"jupiter","decl":-17.389913790354832,"gha":297.8681603803369},{"name":"saturn","decl":-22.37067643000216,"gha":251.13894507473975}],"stars":[{"name":"Acamar","decl":-40.23965134765464,"gha":124.0795053990083},{"name":"Achenar","decl":-57.15135874579861,"gha":144.2253051997917},{"name":"Acrux","decl":-63.19641507525372,"gha":341.8960931385428},{"name":"Adhara","decl":-29.002916833877897,"gha":63.974586016730555},{"name":"Aldebaran","decl":16.541838209547738,"gha":99.57302296474417},{"name":"Alioth","decl":55.85926248005606,"gha":335.1031652653319},{"name":"Alkaid","decl":49.22051250121005,"gha":321.7468590007491},{"name":"Al Na\u0027ir","decl":-46.87395876994698,"gha":196.48212796657924},{"name":"Alnilam","decl":-1.1956972105269195,"gha":84.52868675270379},{"name":"Alphard","decl":-8.740424542103334,"gha":26.688892535484882},{"name":"Alphecca","decl":26.652395411564527,"gha":294.94891848050355},{"name":"Alpheratz","decl":29.188644117555658,"gha":166.48639988493207},{"name":"Altair","decl":8.915745866651445,"gha":230.9011765756152},{"name":"Ankaa","decl":-42.21258849087763,"gha":162.02762752552937},{"name":"Antares","decl":-26.468237813985514,"gha":281.18410368600985},{"name":"Arcturus","decl":19.0870743536425,"gha":314.6892274318808},{"name":"Atria","decl":-69.05225930073725,"gha":276.1678005777659},{"name":"Avior","decl":-59.57238351259452,"gha":43.080497098994684},{"name":"Bellatrix","decl":6.361315511029723,"gha":87.2865128308031},{"name":"Betelgeuse","decl":7.40584191530587,"gha":79.77350156223707},{"name":"Canopus","decl":-52.71267187902738,"gha":72.71905563803281},{"name":"Capella","decl":46.01496278460079,"gha":89.30508834424242},{"name":"Deneb","decl":45.343343689932546,"gha":218.30639957498286},{"name":"Denebola","decl":14.469150692296047,"gha":351.31359094202014},{"name":"Diphda","decl":-17.89178538909356,"gha":157.69439296354005},{"name":"Dubhe","decl":61.65137013574815,"gha":2.5984456564377467},{"name":"Elnath","decl":28.619849100655326,"gha":86.9528906420138},{"name":"Eltanin","decl":51.48402471963076,"gha":259.5592909119797},{"name":"Enif","decl":9.956594437579376,"gha":202.54994605046517},{"name":"Fomalhaut","decl":-29.528714149243246,"gha":184.15899812681127},{"name":"Gacrux","decl":-57.211796409760694,"gha":340.758037383663},{"name":"Gienah","decl":-17.642446966555035,"gha":344.62342881780194},{"name":"Hadar","decl":-60.45481496377333,"gha":317.5268530084984},{"name":"Hamal","decl":23.545343422779965,"gha":136.76697696953948},{"name":"Kaus Australis","decl":-34.37199446757743,"gha":252.47461277676763},{"name":"Kochab","decl":74.07797751385316,"gha":306.1406394762737},{"name":"Markab","decl":15.30064945958933,"gha":182.40263522634615},{"name":"Menkar","decl":4.1560939092294795,"gha":123.0084447625847},{"name":"Menkent","decl":-36.45557560833293,"gha":316.8709178514965},{"name":"Miaplacidus","decl":-69.79447656413869,"gha":30.445948843859583},{"name":"Mirfak","decl":49.924875512537064,"gha":117.40919187820732},{"name":"Nunki","decl":-26.27135363834146,"gha":244.72149804965767},{"name":"Peacock","decl":-56.673724673476265,"gha":222.05794427691785},{"name":"Polaris","decl":89.34349590949962,"gha":125.32780545512433},{"name":"Pollux","decl":27.979676964109853,"gha":52.20455947085804},{"name":"Procyon","decl":5.174462198545926,"gha":53.74765016917812},{"name":"Rasalhague","decl":12.546707663328352,"gha":264.8714224549913},{"name":"Regulus","decl":11.876146278739915,"gha":16.475100265387255},{"name":"Rigel","decl":-8.186652149065996,"gha":89.96014542099147},{"name":"Rigil Kent","decl":-60.90406832882255,"gha":308.59749156776263},{"name":"Sabik","decl":-15.744623199165556,"gha":270.9607428858249},{"name":"Schedar","decl":56.63653703103642,"gha":158.43288646026613},{"name":"Shaula","decl":-37.112108069418596,"gha":265.1065703286518},{"name":"Sirius","decl":-16.74681085026377,"gha":67.32378015154717},{"name":"Spica","decl":-11.255040519262243,"gha":327.272430813009},{"name":"Suhail","decl":-43.509410005672464,"gha":31.639054103452423},{"name":"Vega","decl":38.798497977791165,"gha":249.42856084942983},{"name":"Zubenelgenubi","decl":-16.114787819631754,"gha":305.8406942548137}],"eclipticObliquity":23.436930407657115,"from":{"latitude":37.7489,"longitude":-122.507},"sunObs":{"alt":12.04165159542332,"z":248.71068926303712},"moonObs":{"alt":37.40215187789581,"z":92.67586514280083},"tPass":{"epoch":0,"year":0,"month":0,"day":0,"hour":20,"min":22,"sec":59,"tz":"UTC"},"solarDate":{"epoch":1519576137146,"year":2018,"month":2,"day":25,"hour":16,"min":28,"sec":57}};
			document.getElementById(wcId).setAstronomicalData(astroData);
			document.getElementById(wcId).repaint();
		}

		function setTransparency(wcId, cb) {
			document.getElementById(wcId).transparentGlobe = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		function setSun(wcId, cb) {
			document.getElementById(wcId).withSun = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		function setGrid(wcId, cb) {
			document.getElementById(wcId).withGrid = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		function setMoon(wcId, cb) {
			document.getElementById(wcId).withMoon = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		function setSunlight(wcId, cb) {
			document.getElementById(wcId).withSunlight = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		function setMoonlight(wcId, cb) {
			document.getElementById(wcId).withMoonlight = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		function setWanderingBodies(wcId, cb) {
			document.getElementById(wcId).withWanderingBodies = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		function setStars(wcId, cb) {
			document.getElementById(wcId).withStars = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		function setTropics(wcId, cb) {
			document.getElementById(wcId).withTropics = (cb.checked ? 'true' : 'false');
			document.getElementById(wcId).repaint();
		}

		let spinAnimationInterval;
		let userLng;
		function spin(wcId, inc) {
			if (spinAnimationInterval !== undefined) {
				window.clearInterval(spinAnimationInterval);
				spinAnimationInterval = undefined;
			} else {
				if (userLng === undefined) {
					userLng = -122.507;
				}
				document.getElementById(wcId).positionLabel = "";
				spinAnimationInterval = window.setInterval(function() {
					document.getElementById(wcId).setUserPosition({ latitude: 37.7489, longitude: userLng});
					document.getElementById(wcId).repaint();
					userLng += inc;
					if (userLng > 180) {
						userLng -= 360;
					}
					if (userLng < -180) {
						userLng += 360;
					}
				}, 50);
			}
		}

    function setProjection(id, radio) {
			document.getElementById(id).projection = radio.value;
			document.getElementById(id).repaint();
		}

		// Example of callback on WorldMap
		function callBefore(id) {
			document.getElementById(id).setDoBefore(function(worldMap, context) {
				context.fillStyle = 'pink';
				let fontBackup = context.font;
				context.font = "bold 48px Verdana";
				context.fillText('BEFORE', 10, 24 + (worldMap.height / 2));
				context.font = fontBackup;
			});
			document.getElementById(id).repaint();
		}

		// Depends on the user position... Would not turn with the globe.
		const gpsSatelliteData = {
			"1":{
				"svID":1,
				"elevation":26,
				"azimuth":316,
				"snr":0
			},
			"3":{
				"svID":3,
				"elevation":4,
				"azimuth":284,
				"snr":0
			},
			"8":{
				"svID":8,
				"elevation":27,
				"azimuth":251,
				"snr":6
			},
			"10":{
				"svID":10,
				"elevation":43,
				"azimuth":75,
				"snr":0
			},
			"11":{
				"svID":11,
				"elevation":32,
				"azimuth":303,
				"snr":0
			},
			"14":{
				"svID":14,
				"elevation":84,
				"azimuth":250,
				"snr":0
			},
			"18":{
				"svID":18,
				"elevation":16,
				"azimuth":92,
				"snr":0
			},
			"22":{
				"svID":22,
				"elevation":22,
				"azimuth":291,
				"snr":0
			},
			"24":{
				"svID":24,
				"elevation":1,
				"azimuth":33,
				"snr":0
			},
			"27":{
				"svID":27,
				"elevation":16,
				"azimuth":212,
				"snr":6
			},
			"31":{
				"svID":31,
				"elevation":31,
				"azimuth":157,
				"snr":0
			},
			"32":{
				"svID":32,
				"elevation":69,
				"azimuth":37,
				"snr":0
			}
		};

		function plotGreatCircle(context, worldMap, from, to) {
			let gc = worldMap.computeGreatCircle(from, to, 50);
			if (false) { // DEBUG
				gc.forEach(gcp => {
					console.log("Z: %s\272, %s / %s", gcp.z.toFixed(1), worldMap.decToSex(gcp.pos.lat, "NS"), worldMap.decToSex(gcp.pos.lng, "EW"));
				});
			}

			let lastPointToPlot = null;
			for (let i=0; i<gc.length; i++) {
				let panelPoint = worldMap.getPanelPoint(gc[i].pos.lat, gc[i].pos.lng);
				let thisPointIsBehind = worldMap.isBehind(worldMap.toRadians(gc[i].pos.lat), worldMap.toRadians(gc[i].pos.lng - worldMap.globeViewLngOffset));
				if (!thisPointIsBehind || worldMap.transparentGlobe) {
					// Draw segment
					if (lastPointToPlot !== null) {
//					console.log("Plotting from ", lastPointToPlot, " to ", panelPoint);
						context.strokeStyle = 'lime';
						context.beginPath();
						context.moveTo(lastPointToPlot.x, lastPointToPlot.y);
						context.lineTo(panelPoint.x, panelPoint.y);
						context.stroke();
						context.closePath();
					}
					lastPointToPlot = panelPoint;
				} else {
					lastPointToPlot = null;
				}
			}
		}

		function plotSatellite(context, worldMap, userPos, satColor, name, satellite) {
			let sat = worldMap.getPanelPoint(satellite.lat, satellite.lng);
			let thisPointIsBehind = worldMap.isBehind(worldMap.toRadians(satellite.lat), worldMap.toRadians(satellite.lng - worldMap.globeViewLngOffset));
			if (!thisPointIsBehind || worldMap.transparentGlobe) {
				// Draw Satellite
				worldMap.plot(context, sat, satColor);
				context.fillStyle = satColor;
				context.fillText(name, Math.round(sat.x) + 3, Math.round(sat.y) - 3);
				// Arrow, to the satellite
				context.setLineDash([2]);
				context.strokeStyle = satColor;
				context.beginPath();
				context.moveTo(userPos.x, userPos.y);
				context.lineTo(sat.x, sat.y);
				context.stroke();
				context.closePath();
				context.setLineDash([0]); // Reset
				context.strokeStyle = satColor;
				let deltaX = sat.x - userPos.x;
				let deltaY = sat.y - userPos.y;
				context.beginPath();
				context.moveTo(sat.x, sat.y);
				context.lineTo(sat.x + deltaX, sat.y + deltaY);
				context.stroke();
				context.closePath();
				worldMap.fillCircle(context, {x: sat.x + deltaX, y: sat.y + deltaY}, 6, satColor);
			}
		}

		function getSNRColor(snr) {
			var c = 'lightGray';
			if (snr !== undefined && snr !== null) {
				if (snr > 0) {
					c = 'red';
				}
				if (snr > 10) {
					c = 'orange';
				}
				if (snr > 20) {
					c = 'yellow';
				}
				if (snr > 30) {
					c = 'lightGreen';
				}
				if (snr > 40) {
					c = 'green';
				}
			}
			return c;
		}

		// Example of callback on WorldMap
		function callAfter(id) {
			document.getElementById(id).setDoAfter(function(worldMap, context) {
				if (Object.keys(worldMap.userPosition).length > 0) {
					let userPos = worldMap.getPanelPoint(worldMap.userPosition.latitude, worldMap.userPosition.longitude);
					/*
					 * Display 4 geostationary satellites. Data provided by the user, below.
					 */
					const sats = [
						{name: "I-4 F1 Asia-Pacific", lng: 143.5},
						{name: "I-4 F2 EMEA", lng: 63.0},
						{name: "I-4 F3 Americas", lng: -97.6},
						{name: "Alphasat", lng: 24.9}];
					let satColor = 'cyan';
					sats.forEach(gs => {
						plotSatellite(context, worldMap, userPos, satColor, gs.name, { lat: 0, lng: gs.lng });
					})

					// GPS Satellites in view
					for (var sat in gpsSatelliteData) {
						let satellite = gpsSatelliteData[sat];
						let satellitePosition = worldMap.deadReckoningRadians({
							lat: worldMap.toRadians(worldMap.userPosition.latitude),
							lng: worldMap.toRadians(worldMap.userPosition.longitude)
						}, (90 - satellite.elevation) * 60, satellite.azimuth);
						plotSatellite(context, worldMap, userPos, getSNRColor(satellite.snr), sat, {
							lat: worldMap.toDegrees(satellitePosition.lat),
							lng: worldMap.toDegrees(satellitePosition.lng)
						});
					}
					// Plot great-circle between Paris & Hawaii (Hilo Bay)
					plotGreatCircle(context, worldMap, { lat: 49.01500, lng: 2.5423080 }, { lat: 19.7373, lng: -155.0668648 });
				}
			});
			document.getElementById(id).repaint();
		}

		function setWithStars(id, cb) {
			document.getElementById(id).stars = cb.checked;
			document.getElementById(id).repaint();
		}

		function setWithConst(id, cb) {
			document.getElementById(id).constellations = cb.checked;
			document.getElementById(id).repaint();
		}

		function setStarNames(id, cb) {
			document.getElementById(id).starNames = cb.checked;
			document.getElementById(id).repaint();
		}

		function setConstNames(id, cb) {
			document.getElementById(id).constellationNames = cb.checked;
			document.getElementById(id).repaint();
		}

		function setVisibleSky(id, cb) {
			document.getElementById(id).visibleSky = cb.checked;
			document.getElementById(id).repaint();
		}

		function setSkyGrid(id, cb) {
			document.getElementById(id).skyGrid = cb.checked;
			document.getElementById(id).repaint();
		}

		function setWanderingBodiesSM(id, cb) {
			document.getElementById(id).wanderingBodies = cb.checked;
			if (cb.checked === true) {
				document.getElementById(id).wanderingBodiesData = [{"name":"sun","decl":-20.04044686148565,"gha":155.6529121226147},{"name":"moon","decl":23.16309834765886,"gha":333.80030094991827},{"name":"aries","decl":0,"gha":32.94240012811581},{"name":"venus","decl":-11.050714772347902,"gha":187.22301328597055},{"name":"mars","decl":-23.63545138636733,"gha":136.0959874339015},{"name":"jupiter","decl":-3.8939103945425586,"gha":38.329413872258606},{"name":"saturn","decl":-3.333562139273032,"gha":199.44442264190673}];
			}
			document.getElementById(id).repaint();
		}

		function setHemisphere(id, list) {
			document.getElementById(id).hemisphere = list.value;
			document.getElementById(id).repaint();
		}

		function setMapType(id, list) {
			document.getElementById(id).type = list.value;
			document.getElementById(id).repaint();
		}

		function setLHAAries(id, value) {
			document.getElementById(id).lhaAries = (parseInt(value) >= 0 ? parseInt(value) : parseInt(value) + 360);
			document.getElementById(id).repaint();
		}

		function setObserverLatitude(id, value) {
			document.getElementById(id).latitude = parseInt(value);
			document.getElementById(id).repaint();
		}

		let marqueeAnimationInterval;
		function marquee(txtId, marqueeId) {
			if (marqueeAnimationInterval !== undefined) {
				window.clearInterval(marqueeAnimationInterval); // Stop.
				marqueeAnimationInterval = undefined;
			} else {
				let txt = document.getElementById(txtId).value;
				let marqueeObj = document.getElementById(marqueeId);
				let x = marqueeObj.nbCols;
				let y = 12;
				marqueeAnimationInterval = window.setInterval(function() { // Start
					let luc = marqueeObj.lastUsedColumn;
					if (luc > 0) {
						x -= 1;
					} else {
						x = marqueeObj.nbCols; // Reset text on the right.
					}
					let data = { text: txt, x: x, y: y };
					marqueeObj.displayData = JSON.stringify(data);
					marqueeObj.repaint();
				}, 20);
			}
		}

		function applyClass(id, classList) {
			let widget = document.getElementById(id);
			let cssClass = classList.value;
			widget.className = cssClass;
			widget.repaint();
		}

		function applyBackground(id, color) {
			let cell = document.getElementById(id);
			cell.style.backgroundColor = color;
		}

		function toggleHeadsUp() {
		  document.body.classList.toggle('mirror-upside-down');
		}

		function setPerspective(e) {
			var v = this.value;
			document.body.style.setProperty("--perspective", v + "em");
		}

		function setRotateX(e) {
			var v = this.value;
			document.body.style.setProperty("--rotateX", v + "deg");
		}

		let intervalRandomId = null;
		function randomLed() {
			let ledPanel = document.getElementById("led-panel-01");
			if (intervalRandomId !== null) {
				window.clearInterval(intervalRandomId);
				intervalRandomId = null;
			} else {
				intervalRandomId = window.setInterval(function() {
					let matrix = ledPanel.getLedMatrix();
					let ledRIdx = Math.round(Math.random() * 8);
					let ledCIdx = Math.round(Math.random() * 8);
					matrix[ledRIdx][ledCIdx] = !matrix[ledRIdx][ledCIdx];
					ledPanel.setLedMatrix(matrix);
					ledPanel.repaint();
				}, 100);
			}
		}

		function setSplitFlapValue(id, value) {
			let elem = document.getElementById(id);
			// Character by character, flap-flap-flap
			let original = elem.paddedValue;
			let newPaddedValue = elem.getPaddedValue(elem.cleanString(value));
	//	console.log("Old [%s], new [%s]", original, newPaddedValue);
	//	assert(old.length === new.length);

			function updateFlap(idx) { // THIS is balaise.
				if (original.charAt(idx).toUpperCase() !== newPaddedValue.charAt(idx).toUpperCase()) {
					setTimeout(() => {
						let next = elem.getNextChar(original.charAt(idx));
//					console.log("Updating %s with %s", original, next);
						elem.setCharAt(idx, next);
						original = elem.paddedValue;
						updateFlap(idx);
					}, 50);
				}
			};

			for (let idx=0; idx<original.length; idx++) {
				updateFlap(idx);
			}
//		elem.value = value;
//		elem.repaint();
		}

	</script>
</head>
<body>

	<table width="100%">
		<tr>
			<td><h2>Web Components Samples</h2></td>
			<td><h2 class="mirror">Web Components Samples</h2></td>
		</tr>
	</table>
	<hr/>

	<!-- TODO Link to repo -->

	<!-- Perspective sliders -->
	<span id="head-up-command" onclick="collapseExpandHeadsup();" style="cursor: pointer;" tabindex="0">+ Head up</span>
	<div id="heads-up-sliders" style="display: none;">
		<button onclick="toggleHeadsUp();" style="border-radius: 5px;">Head Up</button>
		<table width="100%">
			<tr>
				<td width="50%">
					<h5 style="color: cyan;">Perspective</h5>
					<input type="range" value="100" min="0" max="100" style="width: 90%;" oninput="setPerspective.call(this, event); perspective01.value = this.value;" />
					<output name="perspective" id="perspective01" style="color: cyan;"></output>
				</td>
				<td width="50%">
					<h5 style="color: cyan;">Rotate X</h5>
					<input type="range" value="-15" min="-100" max="100" style="width: 90%;" oninput="setRotateX.call(this, event); perspective02.value = this.value;" />
					<output name="perspective" id="perspective02" style="color: cyan;"></output>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<h5>Pluviometer, Thermometer, Displays and other such marvels...</h5>
	<!-- Page BG -->
	Page Background
	<input type="radio" name="page-bg" value="DARK" checked onchange="changeBG(this.value);">Dark
	<input type="radio" name="page-bg" value="LIGHT" onchange="changeBG(this.value);">Light
	<p>
		Click on the <b>category titles</b> below, they all represent different configurations of <i>one</i> WebComponent each.
		<br/>
		All the different visual configurations are driven by <i>one</i> stylesheet, <code>web-components.css</code>.
		<br/>
		<dl class="black-frame" style="border: 2px solid cyan;">
			<dt>Note:</dt>
			<dd>
				The stylesheet <code>web-components.css</code> is nothing but an example illustrating <i>some</i> of the widgets' possibilities. Do feel free to
				come up with your own ones.
			</dd>
		</dl>
	  <small>
		  For animation buttons: in this demo, only <b><i>one</i></b> animation can run at a given time. This is not a limitation of the components, this is just because
		  this demo is implemented this way.
	  </small>
	</p>

	<hr/>
	<!--
			PLUVIOMETER
	+-->
	<div style="cursor: pointer;" onclick="showHide('pluviometer');" tabindex="0"><b><u>Pluviometer</u></b></div>
	<div id="pluviometer" class="smooth">
		<table>
			<tr>

				<td valign="top">
					<div class="black-frame centered">
						<pluvio-meter id="pluviometer-01"
													class="pluviometer-day"
													title="m/m per hour"
													min-value="0"
													max-value="10"
													major-ticks="1"
													minor-ticks="0.25"
													value="2.3"
													width="80"
													height="220"></pluvio-meter>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="rain-value-01"
									 placeholder="rain"
									 title="in mm/h"
									 style="width: 50px; text-align: right;"
									 value="2.3"/>
						<br/>
						<button onclick="setData('rain-value-01', 'pluviometer-01')"
										title="Set Rain value in the tube"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('rain-value-01', 'pluviometer-01')"
										title="Set Rain value in the tube"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="range" min="0" max="10" step="0.1" value="2.3" onchange="document.getElementById('pluviometer-01').value = this.value;" style="width: 100%;"/>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered" style="background-color: black;">
						<pluvio-meter id="pluviometer-02"
													class="pluviometer-night"
													title="m/m per hour"
													min-value="0"
													max-value="10"
													major-ticks="1"
													minor-ticks="0.25"
													value="4.5"
													width="80"
													height="220"></pluvio-meter>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="rain-value-02"
									 placeholder="rain"
									 title="in mm/h"
									 style="width: 50px; text-align: right;"
									 value="4.5"/>
						<br/>
						<button onclick="setData('rain-value-02', 'pluviometer-02')"
										title="Set Rain value in the tube"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('rain-value-02', 'pluviometer-02')"
										title="Set Rain value in the tube"
										style="margin-top: 3px;">Animate</button>
										<br/>
										<input type="range" min="0" max="10" step="0.1" value="4.5" onchange="document.getElementById('pluviometer-02').value = this.value;" style="width: 100%;"/>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered" style="background-color: black;">
						<pluvio-meter id="pluviometer-03"
													class="pluviometer-cyan"
													title="m/m per hour"
													min-value="0"
													max-value="10"
													major-ticks="1"
													minor-ticks="0.25"
													value="6.7"
													width="80"
													height="220"></pluvio-meter>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="rain-value-03"
									 placeholder="rain"
									 title="in mm/h"
									 style="width: 50px; text-align: right;"
									 value="6.7"/>
						<br/>
						<button onclick="setData('rain-value-03', 'pluviometer-03')"
										title="Set Rain value in the tube"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('rain-value-03', 'pluviometer-03')"
										title="Set Rain value in the tube"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="range" min="0" max="10" step="0.1" value="6.7" onchange="document.getElementById('pluviometer-03').value = this.value;" style="width: 100%;"/>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered" style="background-color: black;">
						<pluvio-meter id="pluviometer-04"
													class="pluviometer-orange"
													title="m/m per hour"
													min-value="0"
													max-value="10"
													major-ticks="1"
													minor-ticks="0.25"
													value="8.9"
													width="80"
													height="220"></pluvio-meter>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="rain-value-04"
									 placeholder="rain"
									 title="in mm/h"
									 style="width: 50px; text-align: right;"
									 value="8.9"/>
						<br/>
						<button onclick="setData('rain-value-04', 'pluviometer-04')"
										title="Set Rain value in the tube"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('rain-value-04', 'pluviometer-04')"
										title="Set Rain value in the tube"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="range" min="0" max="10" step="0.1" value="8.9" onchange="document.getElementById('pluviometer-04').value = this.value;" style="width: 100%;"/>
					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
			THERMOMETER
	+-->
	<div style="cursor: pointer;" onclick="showHide('thermometer');" tabindex="0"><b><u>Thermometer</u></b></div>
	<div id="thermometer" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<thermo-meter id="thermometer-01"
													class="thermometer-day"
													title="Celcius"
													min-value="-10"
													max-value="60"
													major-ticks="10"
													minor-ticks="1"
													value="12.34"
													width="100"
													height="360"></thermo-meter>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="temp-value-01"
									 placeholder="temp"
									 title="in Celcius"
									 style="width: 40px; text-align: right;"
									 value="12.34"/>
						<br/>
						<button onclick="setData('temp-value-01', 'thermometer-01')"
										title="Set Temp value in the tube"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('temp-value-01', 'thermometer-01')"
										title="Set Temp value in the tube"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="range" min="-10" max="60" step="0.1" value="12.34" onchange="document.getElementById('thermometer-01').value = this.value;" style="width: 100%;"/>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered">
						<thermo-meter id="thermometer-02"
													class="thermometer-night"
													title="Celcius"
													min-value="-10"
													max-value="60"
													major-ticks="10"
													minor-ticks="1"
													value="23.45"
													width="100"
													height="360"></thermo-meter>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="temp-value-02"
									 placeholder="temp"
									 title="in Celcius"
									 style="width: 40px; text-align: right;"
									 value="23.45"/>
						<br/>
						<button onclick="setData('temp-value-02', 'thermometer-02')"
										title="Set Temp value in the tube"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('temp-value-02', 'thermometer-02')"
										title="Set Temp value in the tube"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="range" min="-10" max="60" step="0.1" value="23.45" onchange="document.getElementById('thermometer-02').value = this.value;" style="width: 100%;"/>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered">
						<thermo-meter id="thermometer-03"
													class="thermometer-cyan"
													title="Celcius"
													min-value="-10"
													max-value="60"
													major-ticks="10"
													minor-ticks="1"
													value="34.56"
													width="100"
													height="360"></thermo-meter>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="temp-value-03"
									 placeholder="temp"
									 title="in Celcius"
									 style="width: 40px; text-align: right;"
									 value="34.56"/>
						<br/>
						<button onclick="setData('temp-value-03', 'thermometer-03')"
										title="Set Temp value in the tube"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('temp-value-03', 'thermometer-03')"
										title="Set Temp value in the tube"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="range" min="-10" max="60" step="0.1" value="34.56" onchange="document.getElementById('thermometer-03').value = this.value;" style="width: 100%;"/>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered">
						<thermo-meter id="thermometer-04"
													class="thermometer-orange"
													title="Celcius"
													min-value="-10"
													max-value="60"
													major-ticks="10"
													minor-ticks="1"
													value="45.67"
													width="100"
													height="360"></thermo-meter>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="temp-value-04"
									 placeholder="temp"
									 title="in Celcius"
									 style="width: 40px; text-align: right;"
									 value="45.67"/>
						<br/>
						<button onclick="setData('temp-value-04', 'thermometer-04')"
										title="Set Temp value in the tube"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('temp-value-04', 'thermometer-04')"
										title="Set Temp value in the tube"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="range" min="-10" max="60" step="0.1" value="45.67" onchange="document.getElementById('thermometer-04').value = this.value;" style="width: 100%;"/>
					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
			DIRECTION
	+-->
	<div style="cursor: pointer;" onclick="showHide('direction');" tabindex="0"><b><u>Direction</u></b></div>
	<div id="direction" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<direction-display class="analogdisplay-day"
															 title="Heading, animated"
															 id="compass-01"
															 value="38"
															 major-ticks="45"
															 minor-ticks="5"
															 with-rose="true"
															 with-border="true"
															 label="HDG"
															 width="200"
															 height="200"></direction-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="direction-value-01"
									 placeholder="dir"
									 title="Direction"
									 style="width: 50px; text-align: right;"
									 value="38"/>
						<br/>
						<button onclick="setData('direction-value-01', 'compass-01')"
										title="Set value for the Direction"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('direction-value-01', 'compass-01', 1, true)"
										title="Set value for the Direction"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'compass-01');" checked>With Border
						<input type="checkbox" onchange="setRose(this, 'compass-01');" checked>With Rose
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered" style="background-color: black;">
						<direction-display class="analogdisplay-monochrome-orange"
															 title="TWD, not animated"
															 id="compass-02"
															 value="138"
															 major-ticks="45"
															 minor-ticks="5"
															 with-rose="true"
															 with-border="true"
															 label="TWD"
															 width="200"
															 height="200"></direction-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="direction-value-02"
									 placeholder="dir"
									 title="Direction"
									 style="width: 50px; text-align: right;"
									 value="138"/>
						<br/>
						<button onclick="setData('direction-value-02', 'compass-02')"
										title="Set value for the Direction"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('direction-value-02', 'compass-02', 1, true)"
										title="Set value for the Direction"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'compass-02');" checked>With Border
						<input type="checkbox" onchange="setRose(this, 'compass-02');" checked>With Rose
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered" style="background-color: black;">
						<direction-display class="analogdisplay-monochrome-cyan"
															 title="TWD, not animated"
															 id="compass-03"
															 value="249"
															 major-ticks="45"
															 minor-ticks="5"
															 with-rose="true"
															 with-border="true"
															 label="TWD"
															 width="200"
															 height="200"></direction-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="direction-value-03"
									 placeholder="dir"
									 title="Direction"
									 style="width: 50px; text-align: right;"
									 value="249"/>
						<br/>
						<button onclick="setData('direction-value-03', 'compass-03')"
										title="Set value for the Direction"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('direction-value-03', 'compass-03', 1, true)"
										title="Set value for the Direction"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'compass-03');" checked>With Border
						<input type="checkbox" onchange="setRose(this, 'compass-03');" checked>With Rose
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered" style="background-color: black;">
						<direction-display class="analogdisplay-night"
															 title="Heading, animated"
															 id="compass-04"
															 value="338"
															 major-ticks="45"
															 minor-ticks="5"
															 with-rose="true"
															 with-border="true"
															 label="HDG"
															 width="200"
															 height="200"></direction-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="direction-value-04"
									 placeholder="dir"
									 title="Direction"
									 style="width: 50px; text-align: right;"
									 value="338"/>
						<br/>
						<button onclick="setData('direction-value-04', 'compass-04')"
										title="Set value for the Direction"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('direction-value-04', 'compass-04', 1, true)"
										title="Set value for the Direction"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'compass-04');" checked>With Border
						<input type="checkbox" onchange="setRose(this, 'compass-04');" checked>With Rose
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered" style="background-color: white;">
						<direction-display class="analogdisplay-flat-gray"
															 title="Heading, animated"
															 id="compass-05"
															 value="18"
															 major-ticks="45"
															 minor-ticks="5"
															 with-rose="true"
															 with-border="true"
															 label="HDG"
															 width="200"
															 height="200"></direction-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="direction-value-05"
									 placeholder="dir"
									 title="Direction"
									 style="width: 50px; text-align: right;"
									 value="18"/>
						<br/>
						<button onclick="setData('direction-value-05', 'compass-05')"
										title="Set value for the Direction"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('direction-value-05', 'compass-05', 1, true)"
										title="Set value for the Direction"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'compass-05');" checked>With Border
						<input type="checkbox" onchange="setRose(this, 'compass-05');" checked>With Rose
					</div>
				</td>
			</tr>
			<tr>
				<td colspan="5">
					Start/Stop Animation
					<button id="direction-anim-button-cw" onclick="directionAnimation(1);">Clockwise</button>
					<button id="direction-anim-button-ccw" onclick="directionAnimation(-1);">Counter-Clockwise</button>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
			ANALOG DISPLAY
	+-->
	<div style="cursor: pointer;" onclick="showHide('analog');" tabindex="0"><b><u>Analog Displays</u></b></div>
	<div id="analog" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div id="top-cell" class="black-frame centered" style="background-color: white;">
						<small>Try to combine Style, BG, border.</small><br/>
						Style:
						<select onchange="applyClass('bsp-01', this);">
							<option value="analogdisplay-day" selected>Day</option>
							<option value="analogdisplay-night">Night</option>
							<option value="analogdisplay-monochrome-cyan">Cyan</option>
							<option value="analogdisplay-monochrome-orange">Orange</option>
							<option value="analogdisplay-flat-gray">Flat Gray</option>
							<option value="analogdisplay-flat-black">Flat Black</option>
						</select>
						<br/>
						BG:
						<input type="radio" name="bg1" value="black" onchange="applyBackground('top-cell', this.value);">Black</input>
						<input type="radio" name="bg1" value="white" onchange="applyBackground('top-cell', this.value);" checked>White</input>
						<input type="radio" name="bg1" value="transparent" onchange="applyBackground('top-cell', this.value);">None</input>
						<hr/>
						<analog-display class="analogdisplay-day"
														title="Boat Speed in Knots"
														id="bsp-01"
														min-value="0"
														max-value="15"
														value="6.7"
														major-ticks="3"
														minor-ticks="0.25"
														overlap="-10"
														with-border="true"
														width="200"
														height="100"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="speed-value-01"
									 placeholder="speed"
									 title="BSP in knots"
									 style="width: 50px; text-align: right;"
									 value="6.7"/>
						<br/>
						<button onclick="setData('speed-value-01', 'bsp-01')"
										title="Set Speed value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('speed-value-01', 'bsp-01')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'bsp-01');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'bsp-01');">With Min &amp; Max
						<br/>
						<input type="range" min="0" max="15" step="0.1" value="6.7" onchange="document.getElementById('bsp-01').value = this.value;" style="width: 100%;"/>
					</div>
					<div class="black-frame centered" style="background-color: black;">
						<analog-display class="analogdisplay-night"
														title="Boat Speed in Knots"
														id="bsp-02"
														min-value="0"
														max-value="15"
														value="4.5"
														major-ticks="3"
														minor-ticks="0.25"
														overlap="-10"
														with-border="true"
														width="200"
														height="100"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="speed-value-02"
									 placeholder="speed"
									 title="BSP in knots"
									 style="width: 50px; text-align: right;"
									 value="4.5"/>
						<br/>
						<button onclick="setData('speed-value-02', 'bsp-02')"
										title="Set Speed value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('speed-value-02', 'bsp-02')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'bsp-02');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'bsp-02');">With Min &amp; Max
						<br/>
						<input type="range" min="0" max="15" step="0.1" value="4.5" onchange="document.getElementById('bsp-02').value = this.value;" style="width: 100%;"/>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered" style="background-color: white;">
						<analog-display class="analogdisplay-day"
														title="Boat Speed in knots"
														id="bsp-03"
														min-value="0"
														max-value="15"
														value="6.7"
														major-ticks="1"
														minor-ticks="0.1"
														with-border="true"
														overlap="40"
						                label="BSP"
														width="200"
														height="200"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="bsp-value-03"
									 placeholder="hum"
									 title="Boat Speed in knots"
									 style="width: 50px; text-align: right;"
									 value="6.7"/>
						<br/>
						<button onclick="setData('bsp-value-03', 'bsp-03')"
										title="Set Speed value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('bsp-value-03', 'bsp-03')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'bsp-03');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'bsp-03');">With Min &amp; Max
						<br/>
						<input type="range" min="0" max="15" step="0.1" value="6.7" onchange="document.getElementById('bsp-03').value = this.value;" style="width: 100%;"/>
					</div>

				</td>
				<td valign="top">
					<div class="black-frame centered">
						<analog-display class="analogdisplay-day analog-for-prmsl"
														title="Pressure in hPa"
														id="prmsl-01"
														min-value="983"
														max-value="1043"
														value="1020.8"
														major-ticks="10"
														minor-ticks="1"
														with-border="true"
														overlap="40"
														label="PRMSL"
														width="200"
														height="200"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="prmsl-value-01"
									 placeholder="PRMSL"
									 title="in hPa"
									 style="width: 50px; text-align: right;"
									 value="1020.8"/>
						<br/>
						<button onclick="setData('prmsl-value-01', 'prmsl-01')"
										title="Set PRMSL value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('prmsl-value-01', 'prmsl-01')"
										title="Set PRMSL value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'prmsl-01');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'prmsl-01');">With Min &amp; Max
						<br/>
						<input type="range" min="980" max="1040" step="0.1" value="1020.8" onchange="document.getElementById('prmsl-01').value = this.value;" style="width: 100%;"/>
					</div>
				</td>
				<td valign="top">
					<!-- Applying a style, dynamically -->
					<div class="black-frame centered" id="bg-cell" style="background-color: black;">
						<small>Try to combine Style, BG, border.</small><br/>
						Style:
						<select onchange="applyClass('analog-dyn-01', this);">
							<option value="analogdisplay-day">Day</option>
							<option value="analogdisplay-night">Night</option>
							<option value="analogdisplay-monochrome-cyan">Cyan</option>
							<option value="analogdisplay-monochrome-orange" selected>Orange</option>
							<option value="analogdisplay-flat-gray">Flat Gray</option>
							<option value="analogdisplay-flat-black">Flat Black</option>
						</select>
						<br/>
						BG:
						<input type="radio" name="bg" value="black" onchange="applyBackground('bg-cell', this.value);" checked>Black</input>
						<input type="radio" name="bg" value="white" onchange="applyBackground('bg-cell', this.value);">White</input>
						<input type="radio" name="bg" value="transparent" onchange="applyBackground('bg-cell', this.value);">None</input>
						<hr/>
						<analog-display class="analogdisplay-monochrome-orange"
														title="True Wind Speed in knots"
														id="analog-dyn-01"
														min-value="0"
														max-value="60"
														value="12.5"
														major-ticks="10"
														minor-ticks="1"
														with-border="true"
														overlap="40"
														label="TWS"
														width="200"
														height="200"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="analog-dyn-value-01"
									 placeholder="TWS"
									 title="Wind Speed in knots"
									 style="width: 50px; text-align: right;"
									 value="12.5"/>
						<br/>
						<button onclick="setData('analog-dyn-value-01', 'analog-dyn-01')"
										title="Set Speed value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('analog-dyn-value-01', 'analog-dyn-01')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'analog-dyn-01');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'analog-dyn-01');">With Min &amp; Max
						<br/>
						<input type="range" min="0" max="60" step="0.1" value="12" onchange="document.getElementById('analog-dyn-01').value = this.value;" style="width: 100%;"/>
					</div>
				</td>
			</tr>
			<tr>
				<td valign="top">
					<div class="black-frame centered" style="background-color: black;">
						<analog-display class="analogdisplay-monochrome-cyan"
														title="Humidity in %"
														id="hum-01"
														min-value="0"
														max-value="100"
														value="75"
														major-ticks="10"
														minor-ticks="1"
														with-border="true"
														overlap="40"
														digital-data-len="3"
														digital-data-val="78"
														width="200"
														height="200"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="hum-value-01"
									 placeholder="hum"
									 title="Humidity in %"
									 style="width: 50px; text-align: right;"
									 value="75"/>
						<br/>
						<button onclick="setData('hum-value-01', 'hum-01')"
										title="Set Humidity value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('hum-value-01', 'hum-01')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						Bottom Val:<input type="number" onblur="setDigitVal(this, 'hum-01');" placeholder="Bottom Value" style="text-align: right; width: 50px;" value="78">
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'hum-01');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'hum-01');">With Min &amp; Max
						<br/>
						<input type="range" min="0" max="100" step="1" value="75" onchange="document.getElementById('hum-01').value = this.value;" style="width: 100%;"/>
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered" style="background-color: black;">
						<analog-display class="analogdisplay-monochrome-orange"
														title="True Wind Speed in knots"
														id="tws-01"
														min-value="0"
														max-value="60"
														value="12"
														major-ticks="10"
														minor-ticks="1"
														with-border="true"
														overlap="40"
														label="TWS"
														width="200"
														height="200"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="tws-value-01"
									 placeholder="TWS"
									 title="Wind Speed in knots"
									 style="width: 50px; text-align: right;"
									 value="12"/>
						<br/>
						<button onclick="setData('tws-value-01', 'tws-01')"
										title="Set Speed value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('tws-value-01', 'tws-01')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'tws-01');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'tws-01');">With Min &amp; Max
						<br/>
						<input type="range" min="0" max="60" step="0.1" value="12" onchange="document.getElementById('tws-01').value = this.value;" style="width: 100%;"/>
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered" style="background-color: white;">
						<analog-display class="analogdisplay-flat-gray"
														title="True Wind Speed in knots"
														id="tws-02"
														min-value="0"
														max-value="60"
														value="24"
														major-ticks="10"
														minor-ticks="1"
														with-border="true"
														overlap="40"
														label="TWS"
														width="200"
														height="200"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="tws-value-02"
									 placeholder="TWS"
									 title="Wind Speed in knots"
									 style="width: 50px; text-align: right;"
									 value="24"/>
						<br/>
						<button onclick="setData('tws-value-02', 'tws-02')"
										title="Set Speed value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('tws-value-02', 'tws-02')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'tws-02');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'tws-02');">With Min &amp; Max
						<br/>
						<input type="range" min="0" max="60" step="0.1" value="24" onchange="document.getElementById('tws-02').value = this.value;" style="width: 100%;"/>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered">
						<analog-display class="analogdisplay-flat-black"
														title="True Wind Speed in knots"
														id="tws-03"
														min-value="0"
														max-value="60"
														value="24"
														major-ticks="10"
														minor-ticks="1"
														with-border="true"
														overlap="40"
														label="knots"
														width="200"
														height="200"></analog-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="tws-value-03"
									 placeholder="TWS"
									 title="Wind Speed in knots"
									 style="width: 50px; text-align: right;"
									 value="24"/>
						<br/>
						<button onclick="setData('tws-value-03', 'tws-03')"
										title="Set Speed value"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('tws-value-03', 'tws-03')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'tws-03');" checked>With Border
						<input type="checkbox" onchange="setMinMax(this, 'tws-03');">With Min &amp; Max
						<br/>
						<input type="range" min="0" max="60" step="0.1" value="24" onchange="document.getElementById('tws-03').value = this.value;" style="width: 100%;"/>
					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
			WIND ANGLE DISPLAY
	+-->
	<div style="cursor: pointer;" onclick="showHide('apparent-wind');" tabindex="0"><b><u>Wind Angle Displays</u></b></div>
	<div id="apparent-wind" class="smooth">
		<table border="1">
			<tr>
				<td valign="top">
					<div id="top-cell-aw" class="black-frame centered" style="background-color: white;">
						<small>Try to combine Style, BG, border.</small><br/>
						Style:
						<select onchange="applyClass('aw-01', this);">
							<option value="analogdisplay-day" selected>Day</option>
							<option value="analogdisplay-night">Night</option>
							<option value="analogdisplay-monochrome-cyan">Cyan</option>
							<option value="analogdisplay-monochrome-orange">Orange</option>
							<option value="analogdisplay-flat-gray">Flat Gray</option>
							<option value="analogdisplay-flat-black">Flat Black</option>
						</select>
						<br/>
						BG:
						<input type="radio" name="bg2" value="black" onchange="applyBackground('top-cell-aw', this.value);">Black</input>
						<input type="radio" name="bg2" value="white" onchange="applyBackground('top-cell-aw', this.value);" checked>White</input>
						<input type="radio" name="bg2" value="transparent" onchange="applyBackground('top-cell-aw', this.value);">None</input>
						<hr/>
						<wind-angle-display class="analogdisplay-day"
															  title="Apparent Wind Speed in Knots"
															  id="aw-01"
															  value="{ &quot;wa&quot;: 60, &quot;ws&quot;: 10.2 }"
															  major-ticks="45"
															  minor-ticks="5"
															  with-border="true"
															  with-digits="true"
															  label="App Wind"
															  width="300"
															  height="300"></wind-angle-display>
					</div>
					<div class="black-frame centered">
						<script type="text/javascript">
							function updateJsonAw() {
								let aws = document.getElementById('aws-01').value;
								let awa = document.getElementById('awa-01').value;
								document.getElementById('json-aw').value = '{ "wa":' + awa + ', "ws":' + aws + '}';
							}
						</script>
						<input type="text" id="json-aw" style="display: none;" value="{ &quot;awa&quot;: 60, &quot;aws&quot;: 10.2 }">
						AWA:
						<input type="number"
									 id="awa-01"
									 onchange="updateJsonAw();"
									 placeholder="AWA"
									 title="AWA in degrees"
									 style="width: 50px; text-align: right;"
									 value="60"/>
						<br/>
						<button onclick="setData('json-aw', 'aw-01')"
										title="Set Apparent Wind angle and speed"
										style="margin-top: 3px;">Direct</button>
						<!--button onclick="doAnimate('aw-speed-value-01', 'aw-01')"
										title="Set Speed value"
										style="margin-top: 3px;">Animate</button-->
						&nbsp;
						<input type="checkbox" onchange="setBorder(this, 'aw-01');" checked>With Border
						<br/>
						<input id="aws-01" title="AWS" type="range" min="0" max="50" step="0.1" value="10.2" onchange="updateJsonAw();" style="width: 100%;"/>
					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
			JUMBOS
	+-->
	<div style="cursor: pointer;" onclick="showHide('jumbo');" tabindex="0"><b><u>Jumbos</u></b></div>
	<div id="jumbo" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<jumbo-display id="jumbo-02"
													 class="jumbo-02"
													 value="-12.34"
													 label="Value-A"
													 width="180"
													 height="80"></jumbo-display>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="jumbo-value-02"
									 placeholder="val"
									 title="Jumbo"
									 style="width: 50px; text-align: right;"
									 value="-12.34"/>
						<br/>
						<button onclick="setData('jumbo-value-02', 'jumbo-02')"
										title="Set value for the jumbo"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('jumbo-value-02', 'jumbo-02')"
										title="Set value for the jumbo"
										style="margin-top: 3px;">Animate</button>
					</div>

				</td>

				<td valign="top">
					<div class="black-frame centered">
						<jumbo-display id="jumbo-01"
													 class="jumbo-01"
													 value="-12.34"
													 label="Value-B"
													 width="180"
													 height="80"></jumbo-display>
					</div>

					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="jumbo-value-01"
									 placeholder="val"
									 title="Jumbo"
									 style="width: 50px; text-align: right;"
									 value="-12.34"/>
						<br/>
						<button onclick="setData('jumbo-value-01', 'jumbo-01')"
										title="Set value for the jumbo"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('jumbo-value-01', 'jumbo-01')"
										title="Set value for the jumbo"
										style="margin-top: 3px;">Animate</button>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered">
						<jumbo-display id="jumbo-03"
													 class="jumbo-01 digital-font-orange"
													 value="12.34"
													 label="BSP"
													 width="180"
													 height="80"></jumbo-display>
					</div>

					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="jumbo-value-03"
									 placeholder="val"
									 title="Jumbo"
									 style="width: 50px; text-align: right;"
									 value="12.34"/>
						<br/>
						<button onclick="setData('jumbo-value-03', 'jumbo-03')"
										title="Set value for the jumbo"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('jumbo-value-03', 'jumbo-03')"
										title="Set value for the jumbo"
										style="margin-top: 3px;">Animate</button>
					</div>
				</td>

				<td valign="top">
					<div class="black-frame centered">
						<jumbo-display id="jumbo-04"
													 class="jumbo-01 digital-font-green"
													 value="23.45"
													 label="BSP"
													 width="180"
													 height="80"></jumbo-display>
					</div>

					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="jumbo-value-04"
									 placeholder="val"
									 title="Jumbo"
									 style="width: 50px; text-align: right;"
									 value="23.45"/>
						<br/>
						<button onclick="setData('jumbo-value-04', 'jumbo-04')"
										title="Set value for the jumbo"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('jumbo-value-04', 'jumbo-04')"
										title="Set value for the jumbo"
										style="margin-top: 3px;">Animate</button>
					</div>
				</td>

			</tr>
		</table>
	</div>
	<hr/>
	<!--
		COMPASS ROSE. CONCAVE.
	+-->
	<div style="cursor: pointer;" onclick="showHide('compass-rose');" tabindex="0"><b><u>Compass (concave) Rose</u></b></div>
	<div id="compass-rose" class="smooth">
		<small>Warning: The rose in <i>concave</i>. This means that it has to be seen as if the user was sitting at the center of the rose.</small>
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<compass-rose id="compass-rose-01"
						              class="day"
													title="Heading"
													value="45"
													width="500"
													height="50"></compass-rose>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="compass-value-01"
									 placeholder="Heading"
									 title="True Heading"
									 style="width: 40px; text-align: right;"
									 value="45"/>
						<br/>
						<button onclick="setData('compass-value-01', 'compass-rose-01')"
										title="Set True Heading"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('compass-value-01', 'compass-rose-01', 1, true)"
										title="Set True Heading"
										style="margin-top: 3px;">Animate</button>
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered">
						<compass-rose id="compass-rose-02"
						              class="night"
													title="Heading"
													value="135"
													width="500"
													height="50"></compass-rose>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="compass-value-02"
									 placeholder="Heading"
									 title="True Heading"
									 style="width: 40px; text-align: right;"
									 value="135"/>
						<br/>
						<button onclick="setData('compass-value-02', 'compass-rose-02')"
										title="Set True Heading"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('compass-value-02', 'compass-rose-02', 1, true)"
										title="Set True Heading"
										style="margin-top: 3px;">Animate</button>
					</div>
				</td>
			</tr>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<compass-rose id="compass-rose-03"
													class="orange"
													title="Heading"
													value="245"
													width="500"
													height="50"></compass-rose>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="compass-value-03"
									 placeholder="Heading"
									 title="True Heading"
									 style="width: 40px; text-align: right;"
									 value="245"/>
						<br/>
						<button onclick="setData('compass-value-03', 'compass-rose-03')"
										title="Set True Heading"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('compass-value-03', 'compass-rose-03', 1, true)"
										title="Set True Heading"
										style="margin-top: 3px;">Animate</button>
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered">
						<compass-rose id="compass-rose-04"
													class="cyan"
													title="Heading"
													value="315"
													width="500"
													height="50"></compass-rose>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="compass-value-04"
									 placeholder="Heading"
									 title="True Heading"
									 style="width: 40px; text-align: right;"
									 value="315"/>
						<br/>
						<button onclick="setData('compass-value-04', 'compass-rose-04')"
										title="Set True Heading"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('compass-value-04', 'compass-rose-04', 1, true)"
										title="Set True Heading"
										style="margin-top: 3px;">Animate</button>
					</div>
				</td>
			</tr>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<compass-rose id="compass-rose-05"
													class="gray-flat"
													title="Heading"
													value="15"
													width="500"
													height="50"></compass-rose>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="number"
									 id="compass-value-05"
									 placeholder="Heading"
									 title="True Heading"
									 style="width: 40px; text-align: right;"
									 value="15"/>
						<br/>
						<button onclick="setData('compass-value-05', 'compass-rose-05')"
										title="Set True Heading"
										style="margin-top: 3px;">Direct</button>
						<button onclick="doAnimate('compass-value-05', 'compass-rose-05', 1, true)"
										title="Set True Heading"
										style="margin-top: 3px;">Animate</button>
					</div>
				</td>
			</tr>
			<tr>
				<td colspan="2">
					Start/Stop Animation
					<button id="rose-anim-button-cw" onclick="roseAnimation(1);">Clockwise</button>
					<button id="rose-anim-button-ccw" onclick="roseAnimation(-1);">Counter Clockwise</button>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
		WORLD MAP
	+-->
	<div style="cursor: pointer;" onclick="showHide('world-map');" tabindex="0"><b><u>World Map</u></b></div>
	<div id="world-map" class="smooth">
		<table>
			<tr>
				<td>
					<pre style="font-weight: bold; text-align: left; color: white; vertical-align: top;">
&lt;world-map id="world-map-01"
           class="worldmap-display"
           title="World Map"
           width="700"
           height="500">&lt;/world-map>
					</pre>
					<button onclick="showHideSiblingWidget(this);">Show/Hide widget</button>
				</td>
			</tr>
			<tr style="display: none;">
				<td valign="top">
					<div class="black-frame centered">
						<world-map id="world-map-01"
											 class="worldmap-display"
											 title="World Map"
											 width="700"
											 height="500"></world-map>
					</div>
					<div class="black-frame centered">
						<button onclick="simulateAstroData('world-map-01');"
										title="Set Astro Data"
										style="margin-top: 3px;">Pos to SF</button>
						<input type="checkbox" onchange="setTransparency('world-map-01', this);"/>Transparent
						<input type="checkbox" onchange="setGrid('world-map-01', this);" checked/>Grid
						<input type="checkbox" onchange="setSun('world-map-01', this);" checked/>Sun
						<input type="checkbox" onchange="setMoon('world-map-01', this);" checked/>Moon
						<input type="checkbox" onchange="setSunlight('world-map-01', this);"/>Sunlight
						<input type="checkbox" onchange="setMoonlight('world-map-01', this);"/>Moonlight
						<input type="checkbox" onchange="setWanderingBodies('world-map-01', this);"/>Wandering bodies
						<input type="checkbox" onchange="setStars('world-map-01', this);"/>Stars
						<input type="checkbox" onchange="setTropics('world-map-01', this);"/>Tropics
						<br/>
						Spin <button onclick="spin('world-map-01', 1);">Clockwise</button> <button onclick="spin('world-map-01', -1);">Counter Clockwise</button>
						<br/>
						<input type="radio" name="proj-01" value="GLOBE" onchange="setProjection('world-map-01', this);" checked>Globe
						<input type="radio" name="proj-01" value="MERCATOR" onchange="setProjection('world-map-01', this);">Mercator
						<input type="radio" name="proj-01" value="ANAXIMANDRE" onchange="setProjection('world-map-01', this);">Square
						<hr/>
						Callback samples: <button onclick="callBefore('world-map-01')">Before</button>&nbsp;&nbsp;<button onclick="callAfter('world-map-01')">After</button>
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered">
						<world-map id="world-map-02"
											 class="worldmap-display-02"
											 title="World Map"
											 width="700"
											 height="500"></world-map>
					</div>
					<div class="black-frame centered">
						<button onclick="simulateAstroData('world-map-02');"
										title="Set Astro Data"
										style="margin-top: 3px;">Pos to SF</button>
						<input type="checkbox" onchange="setTransparency('world-map-02', this);"/>Transparent
						<input type="checkbox" onchange="setGrid('world-map-02', this);" checked/>Grid
						<input type="checkbox" onchange="setSun('world-map-02', this);" checked/>Sun
						<input type="checkbox" onchange="setMoon('world-map-02', this);" checked/>Moon
						<input type="checkbox" onchange="setSunlight('world-map-02', this);"/>Sunlight
						<input type="checkbox" onchange="setMoonlight('world-map-02', this);"/>Moonlight
						<input type="checkbox" onchange="setWanderingBodies('world-map-02', this);"/>Wandering bodies
						<input type="checkbox" onchange="setStars('world-map-02', this);"/>Stars
						<input type="checkbox" onchange="setTropics('world-map-02', this);"/>Tropics
						<br/>
						Spin <button onclick="spin('world-map-02', 1);">Clockwise</button> <button onclick="spin('world-map-02', -1);">Counter Clockwise</button>
						<br/>
						<input type="radio" name="proj-02" value="GLOBE" onchange="setProjection('world-map-02', this);" checked>Globe
						<input type="radio" name="proj-02" value="MERCATOR" onchange="setProjection('world-map-02', this);">Mercator
						<input type="radio" name="proj-02" value="ANAXIMANDRE" onchange="setProjection('world-map-02', this);">Square
					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
	  SKY MAPS
	 +-->
	<div style="cursor: pointer;" onclick="showHide('sky-map');" tabindex="0"><b><u>Sky Map</u></b></div>
	<div id="sky-map" class="smooth">
		<table>
			<tr>
				<td>
					<pre style="font-weight: bold; text-align: left; color: white; vertical-align: top;">
&lt;sky-map id="sky-map-01"
          width="600"
          height="600"
          latitude="35"/>
					</pre>
					<button onclick="showHideSiblingWidget(this);">Show/Hide widget</button>
				</td>
			</tr>
			<tr style="display: none;">
				<td valign="top">
					<div class="black-frame centered">
						<sky-map id="sky-map-01"
										 width="600"
										 height="600"
										 latitude="35"/>
					</div>
					Type:
					<select onchange="setMapType('sky-map-01', this);">
						<option value="STARFINDER" selected>Star Finder</option>
						<option value="SKYMAP">Sky Map</option>
					</select>
					Hemisphere:
					<select onchange="setHemisphere('sky-map-01', this);">
						<option value="N" selected>North</option>
						<option value="S">South</option>
					</select>
					<input type="checkbox" onchange="setWithStars('sky-map-01', this);" checked>Stars.
					<input type="checkbox" onchange="setWithConst('sky-map-01', this);" checked>Const.
					<input type="checkbox" onchange="setStarNames('sky-map-01', this);" checked>Star Names.
					<input type="checkbox" onchange="setConstNames('sky-map-01', this);">Const Names.
					<input type="checkbox" onchange="setVisibleSky('sky-map-01', this);" checked>Visible sky.
					<input type="checkbox" onchange="setSkyGrid('sky-map-01', this);" checked>Sky grid.
					<input type="checkbox" onchange="setWanderingBodiesSM('sky-map-01', this);">Wandering bodies.
				</td>
			</tr>
			<tr>
				<td>
					<h5 style="color: cyan;">LHA Aries / Date</h5>
					<input type="range" value="0" min="-180" max="180" style="width: 90%;" oninput="setLHAAries('sky-map-01', this.value); lhaAries.value = (parseInt(this.value) >= 0 ? parseInt(this.value) : parseInt(this.value) + 360);" />
					<output name="lhaAries" id="lhaAries" style="color: cyan;">0</output>
				</td>
			</tr>
			<tr>
				<td>
					<h5 style="color: cyan;">Latitude</h5>
					<input type="range" value="35" min="1" max="89" style="width: 90%;" oninput="setObserverLatitude('sky-map-01', this.value); obsLat.value = this.value;" />
					<output name="obsLat" id="obsLat" style="color: cyan;">35</output>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
	  LED PANEL
	 +-->
	<div style="cursor: pointer;" onclick="showHide('led-panel');" tabindex="0"><b><u>Led Panel</u></b></div>
	<div id="led-panel" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<led-panel id="led-panel-01"
											 class="led-panel-01"
											 width="200"
											 height="200"
											 nb-cols="8"
											 nb-lines="8"/>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<button onclick="randomLed();">Random</button>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
	  MARQUEE PANEL
	 +-->
	<div style="cursor: pointer;" onclick="showHide('marquee-panel');" tabindex="0"><b><u>Marquee Panel</u></b></div>
	<div id="marquee-panel" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<marquee-panel id="marquee-panel-01"
													 class="marquee-01"
													 width="1000"
													 height="125"
													 nb-cols="128"
													 nb-lines="16"
													 display-data='{ "text": "Hello Web Components!", "x": 4, "y": 12 }'/>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="black-frame">
						Marquee Text:
						<input type="text"
									 id="marquee-text-01"
									 placeholder="Text"
									 title="Marquee Text"
									 style="width: 500px; text-align: left;"
									 value=""/>
						<button onclick="marquee('marquee-text-01', 'marquee-panel-01');"
										title="Go!"
										style="margin-top: 3px;">Scroll</button>
					</div>
				</td>
			</tr>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<marquee-panel id="marquee-panel-02"
													 class="marquee-02"
													 width="1000"
													 height="125"
													 nb-cols="128"
													 nb-lines="16"
													 display-data='{ "text": "Hello Web Components!", "x": 4, "y": 12 }'/>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<div class="black-frame">
						Marquee Text:
						<input type="text"
									 id="marquee-text-02"
									 placeholder="Text"
									 title="Marquee Text"
									 style="width: 500px; text-align: left;"
									 value=""/>
						<button onclick="marquee('marquee-text-02', 'marquee-panel-02');"
										title="Go!"
										style="margin-top: 3px;">Scroll</button>
					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
		ANALOG WATCH
	+-->
	<div style="cursor: pointer;" onclick="showHide('analog-watch');" tabindex="0"><b><u>Analog Watch</u></b></div>
	<div id="analog-watch" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<analog-watch id="analog-watch-01"
											 		class="analogdisplay-day"
											 		title="Custom Time"
											 		width="220"
											 		height="220"
													hours-ticks="1"
													minutes-ticks="1"
													digital-value="6"
													with-second-hand="true"
													value="01:20:12"></analog-watch>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="text"
									 id="watch-value-01"
									 placeholder="00:00:00"
									 title="Time to set"
									 style="width: 80px; text-align: center;"
									 value="01:20:12"/>
						<button onclick="setData('watch-value-01', 'analog-watch-01')"
										title="Set Time on the watch"
										style="margin-top: 3px;">Set</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'analog-watch-01');" checked>With Border
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered">
						<analog-watch id="analog-watch-02"
													class="analogdisplay-monochrome-orange"
													title="Custom Time"
													width="220"
													height="220"
													with-second-hand="false"
													hours-flavor="arabic"
													value="01:20:12"></analog-watch>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="text"
									 id="watch-value-02"
									 placeholder="00:00:00"
									 title="Time to set"
									 style="width: 80px; text-align: center;"
									 value="01:20:12"/>
						<button onclick="setData('watch-value-02', 'analog-watch-02')"
										title="Set Time on the watch"
										style="margin-top: 3px;">Set</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'analog-watch-02');" checked>With Border
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered">
						<analog-watch id="analog-watch-03"
													class="analogdisplay-monochrome-cyan"
													title="System Time, UTC"
													width="220"
													height="220"
													with-second-hand="true"
													label="UTC"
													digital-value="4"
													value="01:20:12"></analog-watch>
					</div>
					<div class="black-frame centered">
						<button onclick="realTime('analog-watch-03')"
										title="Set Time on the watch"
										style="margin-top: 3px;">Real time</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'analog-watch-03');" checked>With Border
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered">
						<analog-watch id="analog-watch-04"
													class="analogdisplay-flat-gray"
													title="System Time"
													width="220"
													height="220"
													hours-ticks="1"
													hours-flavor="arabic"
													with-second-hand="true"
													digital-value="6"
													label="Sys"
													value="01:20:12"></analog-watch>
					</div>
					<div class="black-frame centered">
						<button onclick="realTime('analog-watch-04', false)"
										title="Set Time on the watch"
										style="margin-top: 3px;">System time</button>
						<br/>
						<input type="checkbox" onchange="setBorder(this, 'analog-watch-04');" checked>With Border
					</div>
				</td>
			</tr>
			<tr>
				<td align="center" colspan="2" class="black-frame centered">
					<button onclick="doAnimateWatch()"
									title="Time machine!"
									style="margin-top: 3px;">Animate</button>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
		DIR-16-POINTS
	+-->
	<div style="cursor: pointer;" onclick="showHide('dir-16-points');" tabindex="0"><b><u>Direction, 16 points</u></b></div>
	<div id="dir-16-points" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<dir-16-points id="dir-16-01"
													 class="dir-16-day"
													 title="16 points"
													 width="220"
													 height="220"
													 value="N"></dir-16-points>
					</div>
					<div class="black-frame centered">
						Value:
						<input type="text"
									 id="v-dir-16-01"
									 placeholder="SSE"
									 title="Value to set"
									 style="width: 80px; text-align: center;"
									 value="SSE"/>
						<button onclick="setData('v-dir-16-01', 'dir-16-01')"
										title="Set 16 value"
										style="margin-top: 3px;">Set</button>
						<br/>
						<button onclick="animate16Dir('dir-16-01')"
										title="Set 16 value"
										style="margin-top: 3px;">Animate</button>

					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
		CALENDAR
	+-->
	<div style="cursor: pointer;" onclick="showHide('calendar');" tabindex="0"><b><u>Calendar</u></b></div>
	<div id="calendar" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame centered">
						<calendar-display id="calendar-01"
														  class="calendar-01"
														  title="Day-Month-Year"
														  width="300"
														  height="360"
														  value="28-08-2018-tuesday"></calendar-display>
					</div>
					<div class="black-frame centered">
						<script type="text/javascript">
							const WEEK_DAYS = ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"];
							function updateCalendar() {
								let d = document.getElementById('calendar-day-01').value;
								let m = document.getElementById('calendar-month-01').value;
								let y = document.getElementById('calendar-year-01').value;
								let date = new Date(y, m - 1, d);
								document.getElementById('calendar-01').value = d + '-' + m + '-' + y + '-' + WEEK_DAYS[date.getDay()];
								document.getElementById('calendar-01').repaint();
							}
						</script>
						<input type="number"
									 id="calendar-day-01"
									 placeholder="DD"
									 title="Day to set"
									 style="width: 40px; text-align: center;"
									 value="28"/>
						<select id="calendar-month-01">
							<option value="01">Jan</option>
							<option value="02">Feb</option>
							<option value="03">Mar</option>
							<option value="04">Apr</option>
							<option value="05">May</option>
							<option value="06">Jun</option>
							<option value="07">Jul</option>
							<option value="08" selected>Aug</option>
							<option value="09">Sep</option>
							<option value="10">Oct</option>
							<option value="11">Nov</option>
							<option value="12">Dec</option>
						</select>
						<input type="number"
									 id="calendar-year-01"
									 placeholder="YYYY"
									 title="Year to set"
									 style="width: 80px; text-align: center;"
									 value="2018"/>
						<button onclick="updateCalendar()"
										title="Set date value"
										style="margin-top: 3px;">Set</button>
					</div>
				</td>
				<td valign="top">
					<div class="black-frame centered">
						<calendar-display id="calendar-02"
															class="calendar-01"
															title="Day-Month-Year"
															width="150"
															height="180"
															value="28-08-2018-tuesday"></calendar-display>
					</div>
					<div class="black-frame centered">
						<script type="text/javascript">
							function updateCalendar2() {
								let d = document.getElementById('calendar-day-02').value;
								let m = document.getElementById('calendar-month-02').value;
								let y = document.getElementById('calendar-year-02').value;
								let date = new Date(y, m - 1, d);
								document.getElementById('calendar-02').value = d + '-' + m + '-' + y + '-' + WEEK_DAYS[date.getDay()];
								document.getElementById('calendar-02').repaint();
							}
						</script>
						<input type="number"
									 id="calendar-day-02"
									 placeholder="DD"
									 title="Day to set"
									 style="width: 30px; text-align: center;"
									 value="28"/>
						<select id="calendar-month-02">
							<option value="01">Jan</option>
							<option value="02">Feb</option>
							<option value="03">Mar</option>
							<option value="04">Apr</option>
							<option value="05">May</option>
							<option value="06">Jun</option>
							<option value="07">Jul</option>
							<option value="08" selected>Aug</option>
							<option value="09">Sep</option>
							<option value="10">Oct</option>
							<option value="11">Nov</option>
							<option value="12">Dec</option>
						</select>
						<input type="number"
									 id="calendar-year-02"
									 placeholder="YYYY"
									 title="Year to set"
									 style="width: 40px; text-align: center;"
									 value="2018"/>
						<button onclick="updateCalendar2()"
										title="Set date value"
										style="margin-top: 3px;">Set</button>
					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>
	<!--
			SPLIT-FLAP
	+-->
	<div style="cursor: pointer;" onclick="showHide('split-flap');" tabindex="0"><b><u>Split-Flap Display</u></b></div>
	<div id="split-flap" class="smooth">
		<table>
			<tr>
				<td valign="top">
					<div class="black-frame">
						<split-flap-display id="split-flap-display-01"
																nb-char="24"
																font-size="60"
													 			value="02-sep-2018 10:19:00"></split-flap-display>
					</div>
				</td>
			</tr>
			<tr>
				<td valign="top">
					<div class="black-frame">
						<split-flap-display id="split-flap-display-02"
																class="split-flap-02"
																nb-char="30"
																font-size="40"
																justified="RIGHT"
																value="02-sep-2018 10:19:00"></split-flap-display>
						<br/>
						Change the text, and tab out... <input type="text" size="40" value="02-sep-2018 10:19:00" onblur="setSplitFlapValue('split-flap-display-02', this.value);">
					</div>
				</td>
			</tr>
		</table>
	</div>
	<hr/>

	<table width="100%">
		<tr>
			<td><span style="font-style: italic;" title="C'est MOI qui l'ai fait.">Oliv did it</span></td>
			<td><span class="mirror" style="font-style: italic;" title="C'est MOI qui l'ai fait.">Oliv did it</span></td>
		</tr>
	</table>

</body>
</html>
